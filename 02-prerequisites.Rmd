# Prerequisites

Before we get started on IMC data analysis, we will need to make sure that
software dependencies are installed and the needed example data is downloaded.

## Software requirements

Throughout the analysis, we rely on different R software packages.
This section lists the most commonly used packages in this workflow.

Data containers:

* [SingleCellExperiment](https://bioconductor.org/packages/release/bioc/html/SingleCellExperiment.html)

Data processing:

* [CATALYST](https://bioconductor.org/packages/release/bioc/html/CATALYST.html)
* [imcRtools](https://github.com/BodenmillerGroup/imcRtools)
* [scuttle](https://bioconductor.org/packages/release/bioc/html/scuttle.html)
* [scater](https://bioconductor.org/packages/release/bioc/html/scater.html)

Data visualization:

* [cytomapper](https://bioconductor.org/packages/release/bioc/html/cytomapper.html)
* [dittoSeq](https://bioconductor.org/packages/release/bioc/html/dittoSeq.html)

Tidy R:

* [tidyverse](https://www.tidyverse.org/)

For the detailed version numbers, please refer to the [package
versions](#sessionInfo) section below.

## Download example data

Throughout this tutorial, we will access a number of different data types. 
To declutter the analysis scripts, we will already download all needed data here.

### Files for spillover matrix estimation

To highlight the generation of a spillover matrix, we will use files that were 
provided in the original publication [@Chevrier2017].

```{r dowload-chevrier2017, message=FALSE}
# Figure_S5
sm_url <- "https://data.mendeley.com/public-files/datasets/v58yj49pfr/files/b39223d2-2825-4e79-9875-86fa0e1c55d2/file_downloaded?dl=1"

download.file(sm_url, "data/Figure_S5.zip")
unzip("data/Figure_S5.zip", exdir="data", overwrite=TRUE)
unlink("data/Figure_S5.zip")

# Figure_4
sm_url <- "https://data.mendeley.com/public-files/datasets/v58yj49pfr/files/fad34c02-8a26-4291-814a-dc3bd4d980a2/file_downloaded?dl=1"

download.file(sm_url, "data/Figure_4.zip")
unzip("data/Figure_4.zip", exdir="data", overwrite=TRUE)
unlink("data/Figure_4.zip")
```

### Software versions {#sessionInfo}

<details>
   <summary>SessionInfo</summary>
   
```{r, echo = FALSE, message = FALSE}
library(CATALYST)
library(SingleCellExperiment)
#library(scuttle)
#library(scater)
library(imcRtools)
#library(cytomapper)
#library(dittoSeq)
library(tidyverse)

sessionInfo()
```
</details>



